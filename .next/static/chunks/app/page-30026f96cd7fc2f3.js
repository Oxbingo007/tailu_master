(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{737:(e,t,s)=>{Promise.resolve().then(s.bind(s,8775))},8775:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});var a=s(5155),n=s(2115);function r(){let[e,t]=(0,n.useState)(""),[s,r]=(0,n.useState)(""),[l,o]=(0,n.useState)(!1),[u,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),p=async a=>{a.preventDefault(),o(!0),d(""),i(!1);try{if(!(await fetch("http://127.0.0.1:1337/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{name:e,content:s}})})).ok)throw Error("提交失败");i(!0),t(""),r("")}catch(e){d(e.message||"提交失败")}finally{o(!1)}};return(0,a.jsxs)("form",{onSubmit:p,className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"您的姓名",value:e,onChange:e=>t(e.target.value),className:"border rounded px-3 py-2 flex-1 min-w-0 focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0}),(0,a.jsx)("input",{type:"text",placeholder:"留言内容",value:s,onChange:e=>r(e.target.value),className:"border rounded px-3 py-2 flex-1 min-w-0 focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700 transition disabled:opacity-50",children:l?"提交中...":"提交"}),u&&(0,a.jsx)("span",{className:"text-green-600 ml-2",children:"提交成功！"}),c&&(0,a.jsx)("span",{className:"text-red-600 ml-2",children:c})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(737)),_N_E=e.O()}]);